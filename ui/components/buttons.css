/* ==========================================================================
   BUTTONS - Beauty Care Design System Components
   ========================================================================== */

.btn {
  /* Base button styles */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);

  /* Dimensions */
  height: var(--button-height);
  min-width: var(--touch-size);
  padding: 0 var(--space-4);

  /* Typography */
  font-family: var(--font-family);
  font-size: var(--font-size-md);
  font-weight: 500;
  line-height: var(--line-height);

  /* Visual */
  border: var(--input-border-width) solid transparent;
  border-radius: var(--radius-md);

  /* Interactions */
  cursor: pointer;
  transition: var(--transition-fast);

  /* Focus */
  outline: none;
}

/* ==========================================================================
   BUTTON VARIANTS
   ========================================================================== */

/* Primary Button */
.btn-primary {
  background: var(--color-primary);
  color: var(--color-bg);
  border-color: var(--color-primary);
}

.btn-primary:hover {
  background: color-mix(in srgb, var(--color-primary), black 8%);
  border-color: color-mix(in srgb, var(--color-primary), black 8%);
  opacity: var(--opacity-hover);
}

.btn-primary:focus {
  box-shadow: 0 0 0 var(--focus-ring-width) var(--color-accent);
}

/* Secondary Button */
.btn-secondary {
  background: var(--color-surface);
  color: var(--color-fg);
  border-color: var(--color-border);
}

.btn-secondary:hover {
  background: color-mix(in srgb, var(--color-surface), var(--color-fg) 5%);
  border-color: var(--color-primary);
  opacity: var(--opacity-hover);
}

.btn-secondary:focus {
  box-shadow: 0 0 0 var(--focus-ring-width) var(--color-accent);
}

/* Accent Button */
.btn-accent {
  background: var(--color-accent);
  color: var(--color-bg);
  border-color: var(--color-accent);
}

.btn-accent:hover {
  background: color-mix(in srgb, var(--color-accent), black 8%);
  border-color: color-mix(in srgb, var(--color-accent), black 8%);
  opacity: var(--opacity-hover);
}

.btn-accent:focus {
  box-shadow: 0 0 0 var(--focus-ring-width) var(--color-primary);
}

/* Ghost Button */
.btn-ghost {
  background: transparent;
  color: var(--color-primary);
  border-color: transparent;
}

.btn-ghost:hover {
  background: color-mix(in srgb, var(--color-primary), transparent 8%);
  border-color: var(--color-primary);
  opacity: var(--opacity-hover);
}

.btn-ghost:focus {
  box-shadow: 0 0 0 var(--focus-ring-width) var(--color-accent);
}

/* ==========================================================================
   BUTTON SIZES
   ========================================================================== */

.btn-sm {
  height: var(--button-height-sm);
  padding: 0 var(--space-3);
  font-size: var(--font-size-sm);
  border-radius: var(--radius-sm);
}

/* ==========================================================================
   BUTTON STATES
   ========================================================================== */

.btn:disabled,
.btn[disabled] {
  opacity: var(--opacity-disabled);
  cursor: not-allowed;
  pointer-events: none;
}

/* Loading state */
.btn-loading {
  position: relative;
  color: transparent;
  pointer-events: none;
}

.btn-loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 16px;
  height: 16px;
  margin: -8px 0 0 -8px;
  border: 2px solid transparent;
  border-top: 2px solid currentColor;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ==========================================================================
   BUTTON WITH ICONS
   ========================================================================== */

.btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--icon-size);
  height: var(--icon-size);
  padding: 0;
  min-width: var(--touch-size);
}

.btn-icon svg {
  width: var(--icon-size);
  height: var(--icon-size);
}

/* ==========================================================================
   ACCESSIBILITY
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
  .btn {
    transition: none;
  }

  .btn-loading::after {
    animation: none;
  }
}

@media (prefers-contrast: high) {
  .btn {
    border-width: 2px;
  }

  .btn:focus {
    outline: 2px solid var(--color-fg);
    outline-offset: 2px;
  }
}

/* ==========================================================================
   RESPONSIVE ADJUSTMENTS
   ========================================================================== */

@media (max-width: 768px) {
  .btn {
    min-width: 44px;
    padding: 0 var(--space-3);
  }

  .btn:not(.btn-icon) {
    font-size: var(--font-size-md);
  }
}