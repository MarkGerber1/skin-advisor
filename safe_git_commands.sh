#!/bin/bash

# –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è git –∫–æ–º–∞–Ω–¥ –±–µ–∑ –ø–µ–π–¥–∂–µ—Ä–∞
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –≤ —Ñ–∞–π–ª—ã

echo "üîß –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Git –∫–æ–º–∞–Ω–¥..."
echo "======================================"

# –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –≤—ã–≤–æ–¥–∞
TEMP_FILE="/tmp/git_output_$$.txt"

# –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—ã —Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤—ã–≤–æ–¥–∞
echo "üìä Git —Å—Ç–∞—Ç—É—Å:" > "$TEMP_FILE"
git --no-pager status --porcelain >> "$TEMP_FILE" 2>&1
echo "" >> "$TEMP_FILE"

echo "üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:" >> "$TEMP_FILE"
git --no-pager diff --name-only >> "$TEMP_FILE" 2>&1
echo "" >> "$TEMP_FILE"

echo "üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π:" >> "$TEMP_FILE"
git --no-pager diff --stat >> "$TEMP_FILE" 2>&1
echo "" >> "$TEMP_FILE"

echo "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!" >> "$TEMP_FILE"

# –í—ã–≤–æ–¥–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
cat "$TEMP_FILE"

# –û—á–∏—â–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
rm -f "$TEMP_FILE"

echo ""
echo "üéâ –ì–æ—Ç–æ–≤–æ! –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏—è!"
