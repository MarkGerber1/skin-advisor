–ö–æ–Ω–µ—á–Ω–æ\! –Ø –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤–∞–º –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –ö–∞–∫ Senior Full-Stack –∏–Ω–∂–µ–Ω–µ—Ä –∏ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç, —è —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä—É—é –∏ —Å–æ–∑–¥–∞–º –¥–ª—è –≤–∞—Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ Telegram-–±–æ—Ç–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∫–æ–∂–∏ –∏ –ø–æ–¥–±–æ—Ä–∞ –∫–æ—Å–º–µ—Ç–∏–∫–∏.

–Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –≤–∞—à–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π –∫ –∑–∞–ø—É—Å–∫—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –í—Å–µ –¥–æ–ø—É—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ.

### **ASSUMPTIONS (–ü—Ä–∏–Ω—è—Ç—ã–µ –¥–æ–ø—É—â–µ–Ω–∏—è)**

1.  **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è:** –í—Å—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è —á–∞—Å—Ç—å (—Å–æ–æ–±—â–µ–Ω–∏—è, –∫–Ω–æ–ø–∫–∏) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (`ru-RU`), –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –§–∞–π–ª `ru.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å—Ç—Ä–æ–∫–∏.
2.  **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä `aiosqlite` –¥–ª—è SQLite. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ PostgreSQL –∏–ª–∏ –¥—Ä—É–≥—É—é –°–£–ë–î –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `.env` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥—Ä–∞–π–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `asyncpg`). –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è; —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (`db.py`).
3.  **PDF-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è:** –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è PDF –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `fpdf2`. –ö–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã –≤—Å—Ç—Ä–æ–µ–Ω—ã, –Ω–æ –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.
4.  **–ö–æ—Å–º–µ—Ç–∏–∫–∞:** –ö–∞—Ç–∞–ª–æ–≥ `products.json` –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ `brands_whitelist`. –ê—Ä—Ç–∏–∫—É–ª—ã, –æ–±—ä–µ–º—ã –∏ —Ç–æ—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —è–≤–ª—è—é—Ç—Å—è –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–º–∏, –Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã —Å—Ä–µ–¥—Å—Ç–≤. –°—Å—ã–ª–∫–∏ –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã —è–≤–ª—è—é—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∞–º–∏ –∏ –≤–µ–¥—É—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∏—Å–∫–∞ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –∑–∞–ø—Ä–æ—Å—É.
5.  **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å:** –ú–æ–¥–µ–ª—å –≤ `domain/diagnosis.py` —è–≤–ª—è–µ—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —ç–≤—Ä–∏—Å—Ç–∏–∫–∞—Ö –∏ —Å–∏—Å—Ç–µ–º–µ –≤–∑–≤–µ—à–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ –∑–∞–¥–∞—á–µ. –û–Ω–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö, –∞ –Ω–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Ü–µ–ª–µ–π.
6.  **–≠–∫—Å–ø–æ—Ä—Ç CSV:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–∫—Å–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–∏–∞–≥–Ω–æ–∑–æ–≤. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∏–∫–∞—Ö –ø–æ —Å—Å—ã–ª–∫–∞–º —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Ç—Ä–µ–∫–∏–Ω–≥–∞ –∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é.
7.  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ `user_id`, –∞ –Ω–µ –ø–æ `username`, —Ç–∞–∫ –∫–∞–∫ `user_id` —è–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏ –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º. `username` –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

-----

### **HOW TO RUN (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É)**

#### **1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è **Python 3.11+** –∏ **Docker** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏).

**a. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**

```bash
python -m venv venv
source venv/bin/activate  # –î–ª—è Windows: venv\Scripts\activate
```

**b. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

```bash
pip install -r requirements.txt
```

**c. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ `.env.example`.

```ini
# FILE: .env
# –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞. –ü–æ–ª—É—á–∏—Ç–µ –µ–≥–æ —É @BotFather
BOT_TOKEN="1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789"

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥–∞–º
ADMIN_IDS="555000111,123456789"

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: "polling" –∏–ª–∏ "webhook"
RUN_MODE="polling"

# URL –¥–ª—è –≤–µ–±—Ö—É–∫–∞ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ RUN_MODE="webhook")
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS –∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—à–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
WEBHOOK_URL="https://your.domain/webhook"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–µ–±—Ö—É–∫–∞
WEBHOOK_HOST="0.0.0.0"
WEBHOOK_PORT="8080"
```

**d. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**

–û—Ç–∫—Ä–æ–π—Ç–µ `config/app.yaml` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –≤–∞–ª—é—Ç—É, —Ü–µ–Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

#### **2. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞**

**a. –í —Ä–µ–∂–∏–º–µ Polling (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):**

–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

```bash
python app/main.py
```

**b. –í —Ä–µ–∂–∏–º–µ Webhook (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞):**

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `RUN_MODE="webhook"` –∏ `WEBHOOK_URL` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–∫–∞–∑–∞–Ω—ã –≤ `.env`.

```bash
python app/main.py
```

**c. –° –ø–æ–º–æ—â—å—é Docker:**

–≠—Ç–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose up --build
```

-----

### **PROJECT FILES (–§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞)**

#### **\# FILE: .skin-advisor/README.md**

```markdown
#  Skin Advisor Telegram Bot

![Bot Logo](https://i.imgur.com/example.png) **Skin Advisor** ‚Äî —ç—Ç–æ –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –≤ Telegram. –ë–æ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –∫–æ–∂–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∫–µ—Ç—ã –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Ö–æ–¥—É –∏ –º–∞–∫–∏—è–∂—É —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **üß™ –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∫–µ—Ç–∞:** –ü–æ—à–∞–≥–æ–≤—ã–π –æ–ø—Ä–æ—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –≤–∞—à–µ–π –∫–æ–∂–∏.
* **üìä –¢–æ—á–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∫–æ–∂–∏, –ø–æ–¥—Ç–æ–Ω, –∫–æ–ª–æ—Ä–∏—Ç –∏ –∫–ª—é—á–µ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ–±–µ–∑–≤–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∞–∫–Ω–µ –∏ —Ç.–¥.).
* **üõçÔ∏è –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:** –ë–æ—Ç –ø–æ–¥–±–∏—Ä–∞–µ—Ç —É—Ç—Ä–µ–Ω–Ω–∏–π, –≤–µ—á–µ—Ä–Ω–∏–π –∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π —É—Ö–æ–¥, –∞ —Ç–∞–∫–∂–µ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—É—é –∫–æ—Å–º–µ—Ç–∏–∫—É.
* **üõí –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã (`Ozon`, `Wildberries`, `–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ`) –≤ —Ç—Ä–µ—Ö —Ü–µ–Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö.
* **üìú –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:** –ë–æ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –ø—Ä–∞–≤–∏–ª–∞—Ö –≤–≤–µ–¥–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (—Ä–µ—Ç–∏–Ω–æ–∏–¥—ã, –∫–∏—Å–ª–æ—Ç—ã) –∏ –∏—Ö —Å–æ—á–µ—Ç–∞–µ–º–æ—Å—Ç–∏.
* **üìÑ –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF.
* **üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:** –ë–æ—Ç –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏.

## ‚öôÔ∏è –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

–ü—Ä–æ—Å—Ç–æ –Ω–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º –≤ Telegram: [–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞]

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

* `/start` ‚Äî –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º.
* `/reset` ‚Äî –°–±—Ä–æ—Å–∏—Ç—å –∞–Ω–∫–µ—Ç—É –∏ –Ω–∞—á–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –∑–∞–Ω–æ–≤–æ.
* `/results` ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.
* `/export` ‚Äî –°–∫–∞—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ PDF.
* `/help` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å.
* `/privacy` ‚Äî –û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏.

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞

**–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (ReplyKeyboard):**

```

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üß™ –ê–Ω–∫–µ—Ç–∞         ‚îÇ üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üõç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏    ‚îÇ üß≠ –ù–∞–≤–∏–≥–∞—Ü–∏—è       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                üîÑ –°–±—Ä–æ—Å                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

```

**–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (InlineKeyboard):**

–ü—Ä–∏–º–µ—Ä –∫–Ω–æ–ø–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ —É—Ö–æ–¥–∞:
`[ AM-—É—Ö–æ–¥ ‚òÄÔ∏è ]` `[ PM-—É—Ö–æ–¥ üåô ]` `[ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ ‚ú® ]`

–ü—Ä–∏–º–µ—Ä –∫–Ω–æ–ø–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–µ–Ω—ã:
`[ –ë—é–¥–∂–µ—Ç ]` `[ –°—Ä–µ–¥–Ω–∏–π ]` `[ –ü—Ä–µ–º–∏—É–º ]`

## üõ†Ô∏è –î–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –±–æ—Ç–∞ (Checklist)

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±–æ—Ç–∞ –≤ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

* [ ] **–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:** –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –≤ `@BotFather` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª `.env`.
* [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:** –£–∫–∞–∂–∏—Ç–µ –≤–∞—à Telegram User ID –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `ADMIN_IDS` –≤ `.env` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.
* [ ] **–í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `RUN_MODE` –≤ `.env` (`polling` –¥–ª—è —Ç–µ—Å—Ç–æ–≤, `webhook` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞).
* [ ] **–û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤:** –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `data/products.json`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Å—ã–ª–∫–∏ –∏ –∞—Ä—Ç–∏–∫—É–ª—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã.
* [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:** –û—Ç–∫—Ä–æ–π—Ç–µ `config/app.yaml` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥ –≤–∞—à –ø—Ä–æ–µ–∫—Ç (–±—Ä–µ–Ω–¥—ã, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã, —Ç–µ–∫—Å—Ç—ã).
* [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏—Å–∫–ª–µ–π–º–µ—Ä:** –£–±–µ–¥–∏—Ç–µ—Å—å,—á—Ç–æ —Ç–µ–∫—Å—Ç –¥–∏—Å–∫–ª–µ–π–º–µ—Ä–∞ –≤ `config/app.yaml` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.
* [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:** –ü—Ä–æ–π–¥–∏—Ç–µ –∞–Ω–∫–µ—Ç—É –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–∂–∏ (—Å—É—Ö–∞—è, –∂–∏—Ä–Ω–∞—è, —Å –∞–∫–Ω–µ –∏ —Ç.–¥.), —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

## üì¶ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* **Python 3.11+**
* **Aiogram 3**
* **SQLite + SQLAlchemy**
* **Pydantic-settings**
* **FPDF2 (–¥–ª—è PDF)**
* **Docker & Docker Compose**

```

#### **\# FILE: .skin-advisor/.env.example**

```ini
# –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞. –ü–æ–ª—É—á–∏—Ç–µ –µ–≥–æ —É @BotFather
BOT_TOKEN="YOUR_TELEGRAM_BOT_TOKEN"

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥–∞–º
# –£–∑–Ω–∞—Ç—å —Å–≤–æ–π ID –º–æ–∂–Ω–æ —É @userinfobot
ADMIN_IDS="YOUR_TELEGRAM_USER_ID"

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: "polling" –∏–ª–∏ "webhook"
RUN_MODE="polling"

# URL –¥–ª—è –≤–µ–±—Ö—É–∫–∞ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ RUN_MODE="webhook")
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS –∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—à–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
WEBHOOK_URL="https://your.domain/webhook"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤–µ–±—Ö—É–∫–∞
WEBHOOK_HOST="0.0.0.0"
WEBHOOK_PORT="8080"
```

#### **\# FILE: .skin-advisor/requirements.txt**

```text
aiogram==3.7.0
sqlalchemy[asyncio]==2.0.30
pydantic-settings==2.3.1
pyyaml==6.0.1
fpdf2==2.7.9
pytest==8.2.2
aiofiles==23.2.1
python-dotenv==1.0.1
```

#### **\# FILE: .skin-advisor/Dockerfile**

```dockerfile
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ Python
FROM python:3.11-slim

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
WORKDIR /usr/src/app

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã Python –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª .pyc —Ñ–∞–π–ª—ã
ENV PYTHONDONTWRITEBYTECODE 1
ENV PYTHONUNBUFFERED 1

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã
# RUN apt-get update && apt-get install -y --no-install-recommends gcc

# –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
COPY requirements.txt .

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
RUN pip install --no-cache-dir --upgrade pip && \
    pip install --no-cache-dir -r requirements.txt

# –ö–æ–ø–∏—Ä—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
COPY . .

# –£–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CMD ["python", "app/main.py"]
```

#### **\# FILE: .skin-advisor/docker-compose.yml**

```yaml
version: '3.8'

services:
  bot:
    build: .
    container_name: skin_advisor_bot
    env_file:
      - .env
    volumes:
      - ./data:/usr/src/app/data
      - ./config:/usr/src/app/config
      - ./db_volume:/usr/src/app/db_volume # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ë–î –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
    restart: unless-stopped
    command: python app/main.py
    ports:
      # –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–µ–±—Ö—É–∫
      # - "8080:8080"
      - "${WEBHOOK_PORT}:${WEBHOOK_PORT}"
volumes:
  db_volume:
```

#### **\# FILE: .skin-advisor/config/app.yaml**

```yaml
app:
  bot_name: "Skin Advisor"
  locale_default: "ru-RU"
  currency: "RUB"
  price_tiers:
    budget: "<= 1500"
    mid: "1501-5000"
    premium: ">= 5001"
  marketplaces:
    - "Ozon"
    - "Wildberries"
    - "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ"
  brands_whitelist:
    - "Promakeup Laboratory"
    - "Pecan"
    - "LIC"
    - "Est√©e Lauder"
  disclaimer: "‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–æ—Å–∏—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π. –ü—Ä–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏/–ª–∞–∫—Ç–∞—Ü–∏–∏ –∏–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è—Ö ‚Äî –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É."
  admin_usernames:
    - "@owner_username" # –≠—Ç–æ –ø–æ–ª–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–¥–µ—Ç –ø–æ ADMIN_IDS –∏–∑ .env
  privacy_policy_url: "https://www.example.com/privacy" # –ó–∞–≥–ª—É—à–∫–∞, –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
  data_retention_days: 180

run:
  mode: "polling"   # –∏–ª–∏ "webhook"
  webhook_url: ""   # –ø—Ä–∏ —Ä–µ–∂–∏–º–µ webhook ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π URL
```

#### **\# FILE: .skin-advisor/data/products.json**

```json
[
  {
    "id": 1,
    "brand": "Promakeup Laboratory",
    "name": "Soft Cleansing Gel",
    "category": "–æ—á–∏—â–µ–Ω–∏–µ",
    "purpose": "–º—è–≥–∫–æ–µ –æ—á–∏—â–µ–Ω–∏–µ",
    "actives": ["–ø–∞–Ω—Ç–µ–Ω–æ–ª", "—ç–∫—Å—Ç—Ä–∞–∫—Ç –∑–µ–ª–µ–Ω–æ–≥–æ —á–∞—è"],
    "skin_type": ["–ª—é–±–æ–π"],
    "skin_state": ["–æ–±–µ–∑–≤–æ–∂–µ–Ω–Ω–æ—Å—Ç—å", "—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"],
    "price_tier": "budget",
    "volume": "150ml",
    "article": "PML-CL-01",
    "links": {
      "Ozon": "https://www.ozon.ru/search/?text=Promakeup+Laboratory+Soft+Cleansing+Gel",
      "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ": "https://goldapple.ru/catalogsearch/result/?q=Promakeup+Laboratory+Soft+Cleansing+Gel"
    }
  },
  {
    "id": 2,
    "brand": "Pecan",
    "name": "Hydrating Toner",
    "category": "—Ç–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "purpose": "—É–≤–ª–∞–∂–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ pH",
    "actives": ["–≥–∏–∞–ª—É—Ä–æ–Ω–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞", "–∞–ª–æ—ç –≤–µ—Ä–∞"],
    "skin_type": ["—Å—É—Ö–∞—è", "–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è", "–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è"],
    "skin_state": ["–æ–±–µ–∑–≤–æ–∂–µ–Ω–Ω–æ—Å—Ç—å", "—Ç—É—Å–∫–ª–æ—Å—Ç—å"],
    "price_tier": "budget",
    "volume": "200ml",
    "article": "PCN-TN-01",
    "links": {
      "Wildberries": "https://www.wildberries.ru/catalog/0/search.aspx?search=Pecan+Hydrating+Toner"
    }
  },
  {
    "id": 3,
    "brand": "LIC",
    "name": "Niacinamide 10% + Zinc 1% Serum",
    "category": "—Å—ã–≤–æ—Ä–æ—Ç–∫–∞",
    "purpose": "—Å–µ–±–æ—Ä–µ–≥—É–ª—è—Ü–∏—è –∏ –±–æ—Ä—å–±–∞ —Å –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞–º–∏",
    "actives": ["–Ω–∏–∞—Ü–∏–Ω–∞–º–∏–¥", "—Ü–∏–Ω–∫"],
    "skin_type": ["–∂–∏—Ä–Ω–∞—è", "–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è"],
    "skin_state": ["—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–æ—Ä—ã", "–∞–∫–Ω–µ", "–ø–æ—Å—Ç–∞–∫–Ω–µ"],
    "price_tier": "mid",
    "volume": "30ml",
    "article": "LIC-SR-05",
    "links": {
      "Ozon": "https://www.ozon.ru/search/?text=LIC+Niacinamide+10",
      "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ": "https://goldapple.ru/catalogsearch/result/?q=LIC+Niacinamide+10"
    }
  },
  {
    "id": 4,
    "brand": "Est√©e Lauder",
    "name": "Advanced Night Repair Serum",
    "category": "—Å—ã–≤–æ—Ä–æ—Ç–∫–∞",
    "purpose": "–∞–Ω—Ç–∏–≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π —É—Ö–æ–¥ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",
    "actives": ["–ø–µ–ø—Ç–∏–¥—ã", "–≥–∏–∞–ª—É—Ä–æ–Ω–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞"],
    "skin_type": ["–ª—é–±–æ–π"],
    "skin_state": ["–º–æ—Ä—â–∏–Ω—ã", "—Ç—É—Å–∫–ª–æ—Å—Ç—å"],
    "price_tier": "premium",
    "volume": "50ml",
    "article": "EL-ANR-50",
    "links": {
      "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ": "https://goldapple.ru/catalogsearch/result/?q=Est√©e+Lauder+Advanced+Night+Repair"
    }
  },
  {
    "id": 5,
    "brand": "Promakeup Laboratory",
    "name": "Perfect Skin SPF 50 Cream",
    "category": "spf",
    "purpose": "–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–æ–ª–Ω—Ü–∞",
    "actives": ["—Ö–∏–º–∏—á–µ—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è", "–≤–∏—Ç–∞–º–∏–Ω E"],
    "skin_type": ["–ª—é–±–æ–π"],
    "skin_state": ["–ø–∏–≥–º–µ–Ω—Ç–∞—Ü–∏—è", "–∫—É–ø–µ—Ä–æ–∑", "—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"],
    "price_tier": "mid",
    "volume": "50ml",
    "article": "PML-SPF-50",
    "links": {
      "Ozon": "https://www.ozon.ru/search/?text=Promakeup+Laboratory+Perfect+Skin+SPF+50",
      "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ": "https://goldapple.ru/catalogsearch/result/?q=Promakeup+Laboratory+Perfect+Skin+SPF+50"
    }
  },
  {
    "id": 6,
    "brand": "Pecan",
    "name": "Retinal 0.1% Cream",
    "category": "–∞–∫—Ç–∏–≤",
    "purpose": "–±–æ—Ä—å–±–∞ —Å –∞–∫–Ω–µ –∏ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏",
    "actives": ["—Ä–µ—Ç–∏–Ω–∞–ª—å"],
    "skin_type": ["–∂–∏—Ä–Ω–∞—è", "–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è", "–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è"],
    "skin_state": ["–∞–∫–Ω–µ", "–ø–æ—Å—Ç–∞–∫–Ω–µ", "–º–æ—Ä—â–∏–Ω—ã"],
    "price_tier": "mid",
    "volume": "30ml",
    "article": "PCN-RET-01",
    "links": {
      "Wildberries": "https://www.wildberries.ru/catalog/0/search.aspx?search=Pecan+Retinal+0.1"
    }
  },
  {
    "id": 7,
    "brand": "Est√©e Lauder",
    "name": "Double Wear Stay-in-Place Makeup",
    "category": "—Ç–æ–Ω",
    "purpose": "—Å—Ç–æ–π–∫–æ–µ —Ç–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ",
    "actives": [],
    "skin_type": ["–∂–∏—Ä–Ω–∞—è", "–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è", "–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è"],
    "skin_state": [],
    "price_tier": "premium",
    "volume": "30ml",
    "article": "EL-DW-01",
    "links": {
      "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ": "https://goldapple.ru/catalogsearch/result/?q=Estee+Lauder+Double+Wear"
    }
  },
  {
    "id": 8,
    "brand": "LIC",
    "name": "Matte Liquid Lipstick",
    "category": "–≥—É–±—ã",
    "purpose": "–º–∞—Ç–æ–≤–∞—è –ø–æ–º–∞–¥–∞",
    "actives": [],
    "skin_type": [],
    "skin_state": [],
    "price_tier": "budget",
    "volume": "5ml",
    "article": "LIC-LIP-01",
    "links": {
      "Ozon": "https://www.ozon.ru/search/?text=LIC+Matte+Liquid+Lipstick",
      "–ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ": "https://goldapple.ru/catalogsearch/result/?q=LIC+Matte+Liquid+Lipstick"
    }
  }
]
```

#### **\# FILE: .skin-advisor/app/main.py**

```python
import asyncio
import logging

from aiogram import Bot, Dispatcher
from aiogram.types import BotCommand
from aiogram.webhook.aiohttp_server import SimpleRequestHandler, setup_application
from aiohttp import web

from app.handlers import start, survey, results, recommend, admin
from app.infra.db import create_db_if_not_exists
from app.infra.settings import get_settings
from app.ui.keyboards import set_main_menu


async def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞."""
    settings = get_settings()
    logging.basicConfig(level=logging.INFO)
    logger = logging.getLogger(__name__)

    logger.info("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")
    await create_db_if_not_exists()

    bot = Bot(token=settings.bot.bot_token, parse_mode="HTML")
    dp = Dispatcher()

    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤
    dp.include_router(start.router)
    dp.include_router(survey.router)
    dp.include_router(results.router)
    dp.include_router(recommend.router)
    dp.include_router(admin.router)

    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
    await set_main_menu(bot)

    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
    main_commands = [
        BotCommand(command="/start", description="üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å/–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞"),
        BotCommand(command="/reset", description="üîÑ –ù–∞—á–∞—Ç—å –∞–Ω–∫–µ—Ç—É –∑–∞–Ω–æ–≤–æ"),
        BotCommand(command="/results", description="üìä –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç"),
        BotCommand(command="/export", description="üìÑ –°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç –≤ PDF"),
        BotCommand(command="/help", description="‚ùì –ü–æ–º–æ—â—å"),
        BotCommand(command="/privacy", description="üîê –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏"),
    ]
    await bot.set_my_commands(main_commands)

    # –£–¥–∞–ª–µ–Ω–∏–µ –≤–µ–±—Ö—É–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º, –µ—Å–ª–∏ –æ–Ω –±—ã–ª
    await bot.delete_webhook(drop_pending_updates=True)

    if settings.run.mode == "webhook":
        logger.info("–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ Webhook")
        app = web.Application()
        webhook_requests_handler = SimpleRequestHandler(
            dispatcher=dp,
            bot=bot,
        )
        webhook_requests_handler.register(app, path="/webhook")
        setup_application(app, dp, bot=bot)
        runner = web.AppRunner(app)
        await runner.setup()
        site = web.TCPSite(runner, settings.webhook.host, settings.webhook.port)
        await site.start()
        await bot.set_webhook(url=settings.run.webhook_url)
        logger.info(f"–í–µ–±—Ö—É–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ {settings.run.webhook_url}")
        await asyncio.Event().wait() # –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
    else:
        logger.info("–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ Polling")
        await dp.start_polling(bot)


if __name__ == "__main__":
    try:
        asyncio.run(main())
    except (KeyboardInterrupt, SystemExit):
        logging.info("–ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.")
```

... –Ø –ø—Ä–æ–¥–æ–ª–∂—É –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏, —Ç–∞–∫ –∫–∞–∫ –æ—Ç–≤–µ—Ç –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç –ø–æ —Å–∏–º–≤–æ–ª–∞–º.