<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#C26A8D">
    <meta name="description" content="–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Ö–æ–¥—É –∑–∞ –∫–æ–∂–µ–π –∏ –º–∞–∫–∏—è–∂—É. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–∏–ø–∞ –∫–æ–∂–∏ –∏ —Ü–≤–µ—Ç–æ—Ç–∏–ø–∞ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏.">
    <meta name="keywords" content="–∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è, —É—Ö–æ–¥ –∑–∞ –∫–æ–∂–µ–π, –º–∞–∫–∏—è–∂, —Ü–≤–µ—Ç–æ—Ç–∏–ø, —Ç–∏–ø –∫–æ–∂–∏">
    <meta name="author" content="Beauty Care Bot">

    <!-- Favicon -->
    <link rel="icon" href="ui/brand/logo.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="ui/brand/logo.png">

    <!-- Manifest –¥–ª—è PWA -->
    <link rel="manifest" href="manifest.json">

    <title>Beauty Care Bot - –í—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #121212 0%, #1E1E1E 100%);
            color: #FFFFFF;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #C26A8D;
            margin-bottom: 10px;
            font-size: 3rem;
            font-weight: 300;
        }

        .subtitle {
            text-align: center;
            color: #CCCCCC;
            margin-bottom: 40px;
            font-size: 1.2rem;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(194, 106, 141, 0.2);
            border-color: #C26A8D;
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .card-title {
            color: #C26A8D;
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .card-description {
            color: #CCCCCC;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .card-link {
            display: inline-block;
            background: linear-gradient(135deg, #C26A8D 0%, #C9B7FF 100%);
            color: white;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.2s ease;
            box-shadow: 0 4px 15px rgba(194, 106, 141, 0.3);
        }

        .card-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(194, 106, 141, 0.4);
        }

        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .status.ready {
            background: #4CAF50;
            color: white;
        }

        .status.integrated {
            background: #2196F3;
            color: white;
        }

        .summary {
            background: rgba(201, 183, 255, 0.1);
            border: 1px solid #C9B7FF;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin-top: 50px;
        }

        .summary h2 {
            color: #C9B7FF;
            margin-bottom: 20px;
        }

        .summary p {
            color: #CCCCCC;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #C26A8D;
        }

        .stat-label {
            color: #999999;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .stats {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üíÑ Beauty Care Bot</h1>
        <p class="subtitle">–í—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏</p>

        <div class="grid">
            <!-- –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ -->
            <div class="card">
                <div class="card-icon">üé®</div>
                <div class="status ready">–ì–û–¢–û–í–û</div>
                <h3 class="card-title">–î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞</h3>
                <p class="card-description">
                    –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ü–≤–µ—Ç–æ–≤, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Å—Ç–∏–ª–µ–π.
                    –ö–Ω–æ–ø–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏, —Ü–≤–µ—Ç–∞, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ –∏ —Ç–µ–º—ã.
                </p>
                <a href="demo.html" class="card-link" target="_blank">
                    –û—Ç–∫—Ä—ã—Ç—å –¥–µ–º–æ
                </a>
            </div>

            <!-- –ë—Ä–µ–Ω–¥–æ–≤—ã–µ –∞–∫—Ç–∏–≤—ã -->
            <div class="card">
                <div class="card-icon">üè∑Ô∏è</div>
                <div class="status ready">–ì–û–¢–û–í–û</div>
                <h3 class="card-title">–õ–æ–≥–æ—Ç–∏–ø –∏ —Å—Ç–∏–∫–µ—Ä—ã</h3>
                <p class="card-description">
                    –õ–æ–≥–æ—Ç–∏–ø –≤ 2 –≤–µ—Ä—Å–∏—è—Ö, 3 —Å—Ç–∏–∫–µ—Ä–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π,
                    –ø—Ä–µ–≤—å—é –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏.
                </p>
                <a href="brand.html" class="card-link" target="_blank">
                    –û—Ç–∫—Ä—ã—Ç—å –±—Ä–µ–Ω–¥
                </a>
            </div>

            <!-- –û—Ç—á–µ—Ç –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞ -->
            <div class="card">
                <div class="card-icon">üìã</div>
                <div class="status ready">–ì–û–¢–û–í–û</div>
                <h3 class="card-title">–û—Ç—á–µ—Ç –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞ ‚Ññ2</h3>
                <p class="card-description">
                    –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∏ —É–ª—É—á—à–µ–Ω–∏—è—Ö.
                    –ü–æ–Ω—è—Ç–Ω—ã–π —è–∑—ã–∫, –∫—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω, –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.
                </p>
                <a href="report.md" class="card-link" target="_blank">
                    –û—Ç–∫—Ä—ã—Ç—å –æ—Ç—á–µ—Ç
                </a>
            </div>

            <!-- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ—Ç -->
            <div class="card">
                <div class="card-icon">ü§ñ</div>
                <div class="status integrated">–ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–û</div>
                <h3 class="card-title">–ö–æ–¥ –±–æ—Ç–∞</h3>
                <p class="card-description">
                    –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –≤ –∫–æ–¥ –±–æ—Ç–∞.
                    –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è, PDF –æ—Ç—á–µ—Ç—ã.
                </p>
                <a href="https://github.com/MarkGerber1/skin-advisor" class="card-link" target="_blank">
                    –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–¥
                </a>
            </div>

            <!-- –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä PNG -->
            <div class="card">
                <div class="card-icon">üîÑ</div>
                <div class="status ready">–ì–û–¢–û–í–û</div>
                <h3 class="card-title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä SVG‚ÜíPNG</h3>
                <p class="card-description">
                    –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ —Å—Ç–∏–∫–µ—Ä–æ–≤
                    –≤ PNG —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Telegram.
                </p>
                <a href="https://github.com/MarkGerber1/skin-advisor/blob/main/scripts/convert-svg-to-png.js" class="card-link" target="_blank">
                    –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
                </a>
            </div>

            <!-- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è -->
            <div class="card">
                <div class="card-icon">üìö</div>
                <div class="status ready">–ì–û–¢–û–í–û</div>
                <h3 class="card-title">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h3>
                <p class="card-description">
                    –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–µ,
                    –±—Ä–µ–Ω–¥–æ–≤—ã–º –∞–∫—Ç–∏–≤–∞–º –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
                </p>
                <a href="https://github.com/MarkGerber1/skin-advisor/blob/main/ui/README-UI.md" class="card-link" target="_blank">
                    –û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫–∏
                </a>
            </div>
        </div>

        <div class="summary">
            <h2>üéØ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –±–æ—Ç–µ:</h2>
            <p>
                –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –∫–æ–¥ –±–æ—Ç–∞. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫:
                –∫–Ω–æ–ø–∫–∞–º –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é, —Å–æ–æ–±—â–µ–Ω–∏—è–º, PDF –æ—Ç—á–µ—Ç–∞–º, –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
            </p>

            <div class="stats">
                <div class="stat">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">—Ç–æ–∫–µ–Ω–æ–≤ –¥–∏–∑–∞–π–Ω–∞</div>
                </div>
                <div class="stat">
                    <div class="stat-number">12</div>
                    <div class="stat-label">—Ü–≤–µ—Ç–æ–≤—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π</div>
                </div>
                <div class="stat">
                    <div class="stat-number">2</div>
                    <div class="stat-label">—Ç–µ–º—ã (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)</div>
                </div>
                <div class="stat">
                    <div class="stat-number">5</div>
                    <div class="stat-label">–±—Ä–µ–Ω–¥–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤</div>
                </div>
            </div>
        </div>
    </div>

    <!-- PWA Registration and Install Prompt -->
    <script>
        // PWA Installation
        let deferredPrompt;

        // Listen for the beforeinstallprompt event
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;

            // Show install button if it exists
            const installBtn = document.getElementById('install-btn');
            if (installBtn) {
                installBtn.style.display = 'inline-flex';
            }

            console.log('üéØ PWA: Install prompt available');
        });

        // Handle install button click
        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('‚úÖ PWA: User accepted the install prompt');
                    } else {
                        console.log('‚ùå PWA: User dismissed the install prompt');
                    }
                    deferredPrompt = null;
                });
            }
        }

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/BeautyCare-Site/service-worker.js')
                    .then(registration => {
                        console.log('‚úÖ Service Worker registered successfully:', registration.scope);

                        // Handle updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New version available
                                    showUpdateNotification();
                                }
                            });
                        });

                        // Listen for messages from service worker
                        navigator.serviceWorker.addEventListener('message', (event) => {
                            if (event.data && event.data.type) {
                                handleServiceWorkerMessage(event.data);
                            }
                        });

                    })
                    .catch(error => {
                        console.error('‚ùå Service Worker registration failed:', error);
                    });
            });
        } else {
            console.warn('‚ö†Ô∏è Service Worker not supported in this browser');
        }

        // Handle messages from service worker
        function handleServiceWorkerMessage(data) {
            switch (data.type) {
                case 'REPORT_CACHED':
                    console.log('üìÑ Report cached for user:', data.userId);
                    showNotification('–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è –æ—Ñ–ª–∞–π–Ω –¥–æ—Å—Ç—É–ø–∞', 'success');
                    break;
                case 'CACHED_REPORTS_LIST':
                    console.log('üìã Cached reports:', data.reports);
                    break;
                case 'CACHE_CLEARED':
                    console.log('üóëÔ∏è Cache cleared for user:', data.userId);
                    showNotification('–ö–µ—à –æ—á–∏—â–µ–Ω', 'info');
                    break;
            }
        }

        // Show update notification
        function showUpdateNotification() {
            const notification = document.createElement('div');
            notification.className = 'update-notification';
            notification.innerHTML = `
                <div class="update-content">
                    <h3>–î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</h3>
                    <p>–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è Beauty Care –≥–æ—Ç–æ–≤–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ</p>
                    <div class="update-actions">
                        <button onclick="updatePWA()">–û–±–Ω–æ–≤–∏—Ç—å</button>
                        <button onclick="dismissUpdate()">–ü–æ–∑–∂–µ</button>
                    </div>
                </div>
            `;
            document.body.appendChild(notification);
        }

        // Update PWA
        function updatePWA() {
            window.location.reload();
        }

        // Dismiss update
        function dismissUpdate() {
            const notification = document.querySelector('.update-notification');
            if (notification) {
                notification.remove();
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Cache current page for offline access
        function cacheCurrentPage() {
            if ('serviceWorker' in navigator && navigator.serviceWorker.controller) {
                navigator.serviceWorker.controller.postMessage({
                    type: 'CACHE_REPORT',
                    userId: 'demo',
                    reportData: {
                        title: 'Beauty Care - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞',
                        url: window.location.href,
                        type: 'page',
                        created: Date.now()
                    }
                });
            }
        }

        // Check online status
        function updateOnlineStatus() {
            const isOnline = navigator.onLine;
            const statusElement = document.getElementById('online-status');

            if (statusElement) {
                statusElement.textContent = isOnline ? '–û–Ω–ª–∞–π–Ω' : '–û—Ñ–ª–∞–π–Ω';
                statusElement.className = isOnline ? 'status-online' : 'status-offline';
            }

            console.log('üåê Network status:', isOnline ? 'online' : 'offline');
        }

        // Listen for online/offline events
        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);

        // Initial status check
        document.addEventListener('DOMContentLoaded', () => {
            updateOnlineStatus();

            // Add install button to page if needed
            const installBtn = document.createElement('button');
            installBtn.id = 'install-btn';
            installBtn.className = 'install-button';
            installBtn.innerHTML = `
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z" fill="currentColor"/>
                </svg>
                –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
            `;
            installBtn.style.display = 'none';
            installBtn.onclick = installPWA;

            // Add to header or navigation
            const header = document.querySelector('.container h1');
            if (header) {
                header.parentNode.insertBefore(installBtn, header.nextSibling);
            }

            // Cache current page for offline access
            setTimeout(cacheCurrentPage, 1000);
        });

        // Add notification styles
        const style = document.createElement('style');
        style.textContent = `
            .install-button {
                background: #C26A8D;
                color: white;
                border: none;
                padding: 0.5rem 1rem;
                border-radius: 8px;
                cursor: pointer;
                font-weight: 600;
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                margin: 1rem auto;
                transition: all 0.2s ease;
            }

            .install-button:hover {
                background: #B0557A;
                transform: translateY(-2px);
            }

            .notification {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 1000;
                animation: slideIn 0.3s ease;
            }

            .notification-success { background: #4CAF50; }
            .notification-error { background: #f44336; }
            .notification-info { background: #2196F3; }

            .update-notification {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 2000;
            }

            .update-content {
                background: white;
                padding: 2rem;
                border-radius: 12px;
                text-align: center;
                max-width: 400px;
                margin: 1rem;
            }

            .update-content h3 {
                margin: 0 0 1rem 0;
                color: #333;
            }

            .update-content p {
                margin: 0 0 2rem 0;
                color: #666;
            }

            .update-actions {
                display: flex;
                gap: 1rem;
                justify-content: center;
            }

            .update-actions button {
                padding: 0.5rem 1.5rem;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                font-weight: 500;
            }

            .update-actions button:first-child {
                background: #C26A8D;
                color: white;
            }

            .update-actions button:last-child {
                background: #f5f5f5;
                color: #333;
            }

            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }

            .status-online { color: #4CAF50; }
            .status-offline { color: #f44336; }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
